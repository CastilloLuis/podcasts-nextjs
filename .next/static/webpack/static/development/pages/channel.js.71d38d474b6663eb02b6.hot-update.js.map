{"version":3,"file":"static/webpack/static/development/pages/channel.js.71d38d474b6663eb02b6.hot-update.js","sources":["webpack:///./components/ChannelContentList.js","webpack:///./pages/channel.js"],"sourcesContent":["import Link from 'next/link';\nimport slug from '../helpers/utils';\n\nconst ChannelContentList = ({ channelData, listTitle, items, defaultImage, onClickPodcast }) => {\n    return (\n        <div className=\"channelWrapper\">\n            <h3>{ listTitle }</h3>\n            {\n                items.map((item, index) => (\n                    <Link key={index}>\n                        <a \n                            href={`${slug(channelData.title)}.${channelData.id}/${slug(item.title)}.${item.id}`} className=\"list\" key={ index }\n                            onClick={(event) => onClickPodcast(event, item)}\n                        >\n                            <img className=\"list-image\" src={item.urls.image ? item.urls.image : item.urls.logo_image.original ? item.urls.logo_image.original : defaultImage} alt=\"podcast image\" />\n                            <div className=\"list-content\">\n                                <span className=\"list-item-title\">{ item.title }</span>\n                                <span className=\"list-item-description\">{ item.description.substr(0, 80) }...</span>\n                            </div>\n                        </a>\n                    </Link>\n                ))\n            }\n            <style jsx>\n                {`\n\n                    h1 {\n                        font-weight: bold;\n                    }\n\n                    h3 {\n                        width: 100%;\n                        text-align: left;\n                        border-bottom: 1px solid #ececec\n                    }\n\n                    .channelWrapper {\n                        display: flex;\n                        flex-direction: column;\n                        justify-content: center;\n                        align-items: center;\n                        padding: 10px\n                    }\n\n                    img {\n                        border-radius: 3px;\n                        box-shadow: 0px 2px 6px rgba(0,0,0,0.15);\n                        width: 100%\n                    }\n\n                    .list {\n                        width: 100%;\n                        text-align: left;\n                        padding: 10px;\n                        display: flex;\n                        align-items: center;\n                        cursor: pointer;\n                        text-decoration: none;\n                    }\n\n                    .list-image {\n                        width: 45px;\n                        height: 45px;\n                        border-radius: 3px;\n                        border: 1px solid #ececec;\n                        margin-right: 15px;\n                    }\n\n                    .list-content {\n                        display: flex;\n                        flex-direction: column;\n                    }\n\n                    .list-item-title {\n                        font-size: 14px;\n                        font-weight: 500;\n                        color: #191919\n                    }\n\n                    .list-item-description {\n                        font-size: 13px;\n                        color: #333333\n                    }\n\n                `}\n            </style>               \n        </div>\n    )\n};\n\nexport default ChannelContentList;\n\n","import 'isomorphic-fetch';\nimport Link from 'next/link';\nimport Error from './_error';\n\nimport Layout from '../components/Layout';\nimport GoToPrevPage from '../components/GoToPrevPage';\nimport ChannelContentList from '../components/ChannelContentList';\n\nexport default class extends React.Component {\n\n    state = {\n        openPodcast: null,\n    }\n\n    static getInitialProps = async ({ query: { id }, res }) => {\n        const channelId = id;\n\n        try {\n            const [responseChannel, responseAudios, responseSeries] = await Promise.all([\n                fetch(`https://api.audioboom.com/channels/${channelId}`),\n                fetch(`https://api.audioboom.com/channels/${channelId}/audio_clips`),\n                fetch(`https://api.audioboom.com/channels/${channelId}/child_channels`)\n            ]);\n\n            if( responseChannel.status >= 400 ) {\n                res.statusCode = responseChannel.status;\n                return { channelData: null, audioClips: null, series: null, statusCode: responseChannel.status }\n            }\n\n            const { body: { channel } } = await responseChannel.json();\n            const channelData = channel;\n\n            const { body: { audio_clips } } = await responseAudios.json();\n            const audioClips = audio_clips;\n\n            const { body: { channels } } = await responseSeries.json();\n            const series = channels;\n\n            return { channelData, audioClips, series, statusCode: 200 };\n        } catch (e) {\n            return { channelData: null, audioClips: null, series: null, statusCode: 503 }\n        }\n        \n    }\n\n    openPodcast = (event, podcast) => {\n        console.log('OPEN PODCAST')\n        event.preventDefault();\n        this.setState({ \n            openPodcast: podcast\n        });\n    }\n\n    render() {\n        const { channelData, audioClips, series, statusCode } = this.props;\n        const { openPodcast } = this.state;\n        // console.log(audioClips)\n\n        if( statusCode !== 200) {\n            return <Error statusCode={statusCode} />\n        }\n\n        return (\n            <Layout title={channelData.title} header={false}>\n                {\n                    openPodcast && <div>An Podcast is open</div>\n                }\n                <GoToPrevPage \n                    query='/'\n                />\n                <div className=\"channelHero\">\n                    <span className=\"logoText\">{ channelData.title }</span>\n                </div>\n\n                <ChannelContentList\n                    listTitle=\"Podcasts\"\n                    channelData={channelData}\n                    onClickPodcast={(event, podcast) => this.openPodcast(event, podcast)}\n                    items={audioClips}\n                    defaultImage={channelData.urls.logo_image.original}\n                />\n                {\n                    series.length > 0 ? \n                    <ChannelContentList\n                        listTitle=\"Series\"\n                        channelData={channelData}\n                        items={series}\n                        defaultImage={channelData.urls.logo_image.original}\n                    />  : false\n                }              \n                    \n                <style jsx>\n                {`\n\n                    .channelHero {\n                        width: 100%; \n                        height: 150px; \n                        display: flex; \n                        justify-content: center; \n                        align-items: center;\n                        background: url(${ channelData.urls.logo_image.original }) no-repeat center; \n                        background-size: cover                      \n                    }\n\n                    .logoText {\n                        font-size: 30px;\n                        color: white;\n                        font-weight: bold;\n                        text-align: center;\n                        text-shadow: 2px 2px 3px rgba(0,0,0,0.75);\n                    }\n\n                `}\n                </style>              \n            </Layout>\n        )\n    }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAFA;AAAA;AAIA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AATA;AAHA;AAAA;AAmFA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1FA;AACA;AACA;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;AAGA;AACA;AADA;AACA;AAkCA;AACA;AACA;AACA;AAAA;AACA;AADA;AAGA;AACA;;;;;;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AAAA;AAGA;AADA;AAGA;AAAA;AACA;AAAA;AAIA;AACA;AACA;AAAA;AAAA;AACA;AACA;AALA;AAUA;AACA;AACA;AACA;AAJA;AApBA;AAAA;AAAA;AAqDA;;;;AA5GA;AACA;;;;;;AAKA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAIA;AAAA;AAAA;AACA;AALA;AAAA;AAAA;AAAA;AACA;AAUA;AAXA;AAYA;AAAA;AAAA;AAAA;AAAA;AACA;AAbA;AAAA;AAAA;AACA;AADA;AAAA;AAeA;AACA;AAhBA;AAAA;AACA;AADA;AAAA;AAkBA;AACA;AAnBA;AAAA;AACA;AADA;AAAA;AAqBA;AACA;AAtBA;AAwBA;AAAA;AAAA;AAAA;AAAA;AACA;AAzBA;AAAA;AAAA;AAAA;AA0BA;AAAA;AAAA;AAAA;AAAA;AACA;AA3BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;A","sourceRoot":""}